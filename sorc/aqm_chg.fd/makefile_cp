SHELL=/bin/sh

 MODEL = chg.x

# Compiler Definitions
 FC = ifort
 CC = /usr/bin/cc

# Preprocessor
 FPP  = 

 LIB_LOC    = ../../lib

# IOAPI = /u/Jianping.Huang/noscrub/nwdev/cmaq.v5.0.2/lib/sorc/aqm_ioapi_v31
 IOAPI =  $(LIB_LOC)/aqm_ioapi_v31

  
# NETCDF_PATH = /gpfs/hps/usrx/local/prod/NetCDF/3.6.3/intel/haswell

 INCLUDES = -I $(IOAPI)/ioapi/fixed_src -I ${NETCDF}/include -I.

# Compiler Flags
# F_FLAGS = -132 -O3 -I. 
 F_FLAGS    = -free -O3 -fp-model precise -mp1 
 
# C_FLAGS = -v -O3 -D__USE_LARGEFILE64

#CPP_FLAGS = \
# -D_LARGE_FILES

# Libraries
LIBRARIES = \
  -L$(LIB_LOC) -laqm_ioapi \
  -L${NETCDF}/lib -lnetcdf

# List of Object files needed for linking
OBJECTS= \
chg.o

.SUFFIXES: .F .f .c

$(MODEL): $(OBJECTS)
	$(FC) $(LINK_FLAGS) $(OBJECTS) $(LIBRARIES) -o $@

.F.o:
	$(FC) -c $(F_FLAGS) $(INCLUDES) $(CPP_FLAGS) $<

.f.o:
	$(FC) -c $(F_FLAGS) $(INCLUDES) $(CPP_FLAGS) $<

.c.o:
	$(CC) -c $(INCLUDES) $(C_FLAGS) $(INCLUDES-h) $(CPP_FLAGS) $<

clean:
	-rm -f $(OBJECTS)

