# RCS file, release, date & time of last delta, author, state, [and locker]
# $Header: /project/work/rep/STENEX/src/se/Makefile,v 1.7 2000/04/26 19:08:41 yoj Exp $

SHELL=/bin/sh

 LIBNAME = libaqm_pario.a
#LIBNAME = libpario.debug.a

# IOAPI =  /nwprod/lib/sorc/pario-n
#IOAPI = /naqfc/save/Jianping.Huang/nwprod/cmaq.v4.5.0/lib/sorc/aqm_pario-n
#IOAPI = /naqfc/save/Jianping.Huang/nwprod/cmaq.v4.5.0/lib/sorc/ioapi3.1/3.6.3/ioapi/fixed_src
#IOAPI =  /naqfc/save/Pius.Lee/lpan/TEST/IOAPI/3.6.3/Linux2_x86_64ifort
#IOAPI = /naqfc/save/Jianping.Huang/nwprod/cmaq.v4.5.0/lib/libaqm_ioapi.a
IOAPI = /save/Jianping.Huang/nwprod/cmaq.v4.5.0/lib/libaqm_ioapi.a
#IOAPI = /naqfc/save/Jianping.Huang/nwprod/cmaq.v4.5.0/lib/sorc/ioapi3.1/3.6.3/ioapi
#IOAPI = /naqfc/save/Pius.Lee/lpan/TEST/IOAPI/3.6.3/Linux2_x86_64ifort/libioapi.a
#LIOAPI = /naqfc/save/Jianping.Huang/nwprod/cmaq.v4.5.0/lib/sorc/ioapi3.1/3.6.3/Linux2_x86_64ifort/libioapi.a
#FC = mpfort
FC = mpfort -compiler ifort

#CCS FSTD = -qsave -qfixed=132 -qarch=auto -qtune=auto
#Pius FSTD =  -fixed -132 -O3 -override-limits -fno-alias -mp1 -fp-model precise 
#CCS FFLAGS = $(FSTD) -I $(IOAPI) -O3 -qstrict -Q
#Pius FLAGS = $(FSTD) -I $(IOAPI)
#FSTD = -fixed -132 -O2 -override-limits -fno-alias -mp1 -fp-model precise 
FSTD = -fixed -132 -O -override-limits -fno-alias -mp1 -fp-model precise 

#DEBUG = -g -traceback

#FFLAGS = -132 -O3 -fp-model precise $(DEBUG)
#FFLAGS = -132 -O3 -fp-model precise  -assume byterecl -convert big_endian $(DEBUG)  -I $(IOAPI) -I.
FFLAGS = -132 -O3 -fp-model precise  -assume byterecl $(DEBUG)  -I $(IOAPI) . 
#FFLAGS = $(FSTD)  -assume byterecl -convert big_endian $(DEBUG) -I$(IOAPI) -I. 

OBJS= \
 pinterpb_mod.o \
 piomaps_mod.o \
 alloc_data_mod.o \
 boundary.o \
 get_write_map.o \
 growbuf.o \
 gtndxhdv.o \
 initm3io.o \
 interpol.o \
 pinterpb.o \
 pio_init.o \
 pio_end.o \
 pm3err.o \
 pm3exit.o \
 pm3warn.o \
 pshut3.o \
 pwrite3.o \
 pwrgrdd.o \
 readbndy.o \
 subdmap.o \
 wrsubmap.o

.SUFFIXES: .F .f .c

$(LIBNAME) : $(OBJS)
	$(FC) -c $(FFLAGS) $(LIOAPI)-o $<
	ar -crv $@ $(OBJS)
	chmod 644 $@
clean:
	/bin/rm -f *.a *.o *.mod
